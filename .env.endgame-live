# ═══════════════════════════════════════════════════════════════════════════
# Endgame Live Trading 配置
# ═══════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────
# 交易模式
# ───────────────────────────────────────────────────────────────────────────
# true  = Dry Run (模擬下單，保護機制禁用，適合完整測試)
# false = Live Trading (真實下單，保護機制啟用 ⚠️)
DRY_RUN=true

# Dry Run 模式特點：
# ✅ Kill Switch 啟用（可手動停止）
# ❌ Fund Limiter 禁用（無交易限制）
# ❌ Loss Breaker 禁用（不會因虧損停止）

# ───────────────────────────────────────────────────────────────────────────
# 私鑰 (Live Trading 必需)
# ───────────────────────────────────────────────────────────────────────────
# 你的 Polygon 錢包私鑰
# ⚠️ 永遠不要提交到 git！
# PRIVATE_KEY=your_private_key_here

# ───────────────────────────────────────────────────────────────────────────
# Kill Switch
# ───────────────────────────────────────────────────────────────────────────
KILL_SWITCH_FILE=/tmp/poly-kill-switch-endgame

# ───────────────────────────────────────────────────────────────────────────
# Fund Limiter (小額實盤推薦配置)
# ───────────────────────────────────────────────────────────────────────────
# 每日最大交易額
MAX_DAILY_VOLUME=100

# 最大總持倉價值
MAX_TOTAL_POSITION=200

# 單筆交易最大金額
MAX_SINGLE_TRADE=50

# ───────────────────────────────────────────────────────────────────────────
# Loss Circuit Breaker
# ───────────────────────────────────────────────────────────────────────────
# 單日最大虧損
MAX_DAILY_LOSS=30

# 累計最大虧損
MAX_TOTAL_LOSS=50

# 最大連續虧損次數
MAX_CONSECUTIVE_LOSSES=5

# ───────────────────────────────────────────────────────────────────────────
# 策略參數
# ───────────────────────────────────────────────────────────────────────────
# 初始資金
INITIAL_CAPITAL=100

# 每筆交易資金百分比 (0.5 = 50%)
# ⚠️ 測試顯示回撤 55-63%，建議降低以控制風險：
#    0.5 = 50% (高回撤，高收益)
#    0.3 = 30% (中等回撤，中等收益) ← 推薦
#    0.2 = 20% (低回撤，低收益)
CAPITAL_PERCENT=0.5

# 最大同時持倉數
# 增加持倉數可以分散風險，降低回撤
#    2 = 標準設定
#    3-4 = 更分散，但需要更多資金
MAX_CONCURRENT=2

# 單筆最小金額
MIN_ORDER_SIZE=5

# 單筆最大金額
# 限制單筆金額可以控制最大損失
MAX_ORDER_SIZE=50

# ═══════════════════════════════════════════════════════════════════════════
# 💡 降低回撤建議（基於測試結果 MaxDD 55-63%）
# ═══════════════════════════════════════════════════════════════════════════
# 選項 1: 降低每筆投入
#    CAPITAL_PERCENT=0.3 (從 50% 降到 30%)
#    預期效果: 回撤降低 30-40%，但收益也會降低
#
# 選項 2: 嚴格止損（需修改策略代碼）
#    stopLossPercent: 0.10 (從 15% 降到 10%)
#    預期效果: 單筆最大損失降低，但可能增加止損次數
#
# 選項 3: 只跑 LOW 區間（ROI 最高）
#    保留 S5 (2m+LOW+SL15) 和 S2 (3m+LOW+SL15)
#    移除 MID_LOW 策略
#    預期效果: 專注高 ROI 策略
# ═══════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════
# 使用方式
# ═══════════════════════════════════════════════════════════════════════════
#
# 1. Dry Run 測試 (推薦先測試 24 小時)
#    DRY_RUN=true
#    無需私鑰
#
# 2. 小額實盤 ($100 起步)
#    DRY_RUN=false
#    PRIVATE_KEY=0x...
#    INITIAL_CAPITAL=100
#
# 3. 啟動命令
#    export $(cat .env.endgame-live | xargs)
#    npx tsx scripts/endgame/live-trading.ts
#
# 4. 緊急停止
#    touch /tmp/poly-kill-switch-endgame
#
# ═══════════════════════════════════════════════════════════════════════════
